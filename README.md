# learn-go-with-goblueprints

This is a repo for my learning Golang.

個人勉強用レポジトリ

書籍 「Go言語によるWebアプリケーション開発」でGo言語を勉強する


# 1章 WebSocketを使ったチャットアプリケーション

> Webベースのチャットアプリケーションを作成する。  
> 複数のユーザーがブラウザ上でリアルタイムに会話ができる。  
> この章では次のような事柄を学ぶ。

* net/httpパッケージを使い、HTTPリクエストに応答する。
* テンプレートを使ったコンテンツをクライアントに提供する。
* Goのhttp.Handler型のインターフェースに適合させる。
* Goのgoroutineを使い、アプリケーションが複数の作業を同時に行えるようにする。
* チャネルを使い、実行中の各goroutine間で情報を共有する。
* HTTPリクエストをアップグレードし、WebSocketなどの新しい機能を使えるようにする。
* アプリケーション内部でのはたらきをよりよく理解するために、ログの記録を行う。
* テスト駆動(TDD)の手順に従って、Goの完全なパッケージ構造を作成する。
* 非公開の型、を公開されているインターフェース型で返す。

# 2章 認証機能の追加

> この章では、チャットアプリケーションを拡張して認証の機能を追加する。ここではGoogleやFacebookあるいはGitHubのアカウントを使ったサインインを可能にするが、他のアカウントに対応させるのも簡単である。チャットに参加する前に、ユーザーはサインインを求められる。ここで使われたアカウントの情報を元にして入室者リストやメッセージの発信者を表示し、ユーザーエクスペリエンスの強化を図る。  
> 具体的には以下の点について解説する

* Decoratorパターンにもとづいてhttp.Handler型をラップし、機能を追加する
* 動的なパスでHTTPのエンドポイントを提供する
* オープンソースのGomniauthプロジェクトを利用して認証サービスにアクセスする
* httpパッケージを使ってクッキーの読み書きを行う
* WebSocket上でJSONデータを送受信する
* さまざまな種類のデータをテンプレートに渡す
* 自分で定義した型のチャネルを定義して利用する

# 3章 プロフィール画像を追加する3つの方法

> ユーザーの写真あるいはアバターを表示するための方法を3つ紹介する。

* 認証サービスから提供されるアバターの画像を利用する。
* GravatarというWebサービスを利用し、ユーザーのメールアドレスを元に画像を検索して取得する。
* ユーザーがチャットアプリケーションにアップロードした画像を利用する。

> この章ではアジャイルな設計を取り入れ、最小限の機能を繰り返し追加していくという形式をとる。  
> 機能追加のたびに、ブラウザ上で実際に利用可能な実装をしていく。その過程の中で、必要に応じてリファクタリングを行い、なぜそういう設計にしたのかを説明していく。  
> 具体的には、この章では以下のような点について解説する。

* 認証サービスから追加の情報を取得するための正しい方法。これについては標準規格が定義されていない。
* 我々のコードに抽象化を取り入れるべきタイミング
* Goのデータのない型によって節約される処理時間とメモリ消費量
* 既存のインターフェースを再利用し、同じやり方でコレクションや個々のオブジェクトを扱う方法
* WebサービスGravatarの利用方法
* GoでMD5アルゴリズムを使ってハッシュ値を算出する方法
* HTTP経由でファイルをアップロードしてサーバー側に保管する方法
* GoのWebサーバーで静的なファイルを提供する方法
* ユニットテストがコードのリファクタリングを促進するという考え方
* 構造体からインターフェースへと機能を抜き出すべきタイミングと、その方法

# 4章 ドメイン名を検索するコマンドラインツール

> この章で学ぶ事柄は以下のとおり

* コマンドライン上だけで動作するアプリケーションのビルド方法。コードは1行でもかまわない。
* 標準入出力を利用した他のアプリケーションと組み合わせ可能にするための方法
* サードパーティによるRESTとJSONのAPIにアクセスする方法
* Goのコードで標準入力と標準出力のパイプを利用する方法
* ストリーム形式の入力元から1行ずつデータを読み込む方法
* WHOISクライアントを作成してドメインに関する情報を取得する方法
* セキュリティ上重要なデータやデプロイ先ごとに異なる情報を環境変数として保持する方法

# 5章 分散システムと柔軟なデータの処理

> この章では次のようなトピックについて解説する。

* NoSQLの分散データベース。特に、MongoDBとのインタラクション
* 分散メッセージキュー。特に、Bit.lyのNSQとgo-nsqパッケージを使ったイベントのパブリッシュとサブスクライブ
* TwitterのストリーミングAPIを使ったツイートのライブ表示や、長時間のネットワーク接続の管理
* 内部で多くのgoroutineを実行しているプログラムを、適切に終了させる方法
* メモリ消費量の少ないチャネルを使ってシグナルを送受信する方法
